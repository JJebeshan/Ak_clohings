{% include 'Admin/Admin_navbar.html' %}
{% load static %}
    <div class="max-w-xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl font-semibold text-center mb-6">Add User</h2>
        <form method="POST" action="{% url 'add_user'%}" onsubmit="return validatePassword();">
            {% csrf_token %}
            {% if messages %}
                <div class="space-y-2 mt-2">
                {% for message in messages %}
                    <div class="{% if message.tags == 'error' %}bg-red-100 text-red-800 border border-red-400{% elif message.tags == 'success' %}bg-green-100 text-green-800 border border-green-400{% endif %} px-4 py-3 rounded relative">
                        {{ message }}
                    </div>
                {% endfor %}
                </div>
            {% endif %}
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Username</label>
                <input type="text" name="username" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Email</label>
                <input type="email" name="email" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Phone</label>
                <input type="text" name="phone" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
            </div>
            <div class="mb-4">
    <label class="block text-sm font-medium text-gray-700">Password</label>
    <input type="password" name="password" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
</div>

<div class="mb-4">
    <label class="block text-sm font-medium text-gray-700">Confirm Password</label>
    <input type="password" name="confirm_password" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
</div>



            <div class="mb-4">
    <label class="block text-sm font-medium text-gray-700">Role</label>
    <select name="role" required class="w-full mt-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
        <option value="">-- Select Role --</option>
        <option value="Admin">Admin</option>
        <option value="Manager">Manager</option>
        <option value="Assistant Manager">Assistant Manager</option>
        <option value="Sales Person">Sales Person</option>
    </select>
</div>


            <div class="mb-6">
    <label class="block text-sm font-medium text-gray-700 mb-2">Action</label>
    <div class="flex flex-wrap gap-4">
    <label class="inline-flex items-center">
        <input type="hidden" name="admin" value="0">
        <input type="checkbox" name="admin" value="1" class="form-checkbox text-green-600">
        <span class="ml-2 text-gray-700">Admin</span>
    </label>

    <label class="inline-flex items-center">
        <input type="hidden" name="sales" value="0">
        <input type="checkbox" name="sales" value="1" class="form-checkbox text-green-600">
        <span class="ml-2 text-gray-700">Sales</span>
    </label>

    <label class="inline-flex items-center">
        <input type="hidden" name="accounts" value="0">
        <input type="checkbox" name="accounts" value="1" class="form-checkbox text-green-600">
        <span class="ml-2 text-gray-700">Accounts</span>
    </label>

    <label class="inline-flex items-center">
        <input type="hidden" name="support" value="0">
        <input type="checkbox" name="support" value="1" class="form-checkbox text-green-600">
        <span class="ml-2 text-gray-700">Support</span>
    </label>
</div>


            <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 transition">
                Add
            </button>
        </form>
    </div>
    <script>
        function validatePassword(){
            const pwd=document.querySelector('input[name=password]').value;
            const cnf=documen.querySelector('input[name=confirm_password]').value;
            if (cnf!==pwd){
                alert("Password Wrong")
                return false;
            }
            return true;
        }
    </script>